<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dishcovery — Meal Planner</title>
  <style>
    /* Paste the global high-tech theme CSS here (same as in home.html) */
  </style>
</head>
<body class="bg-mesh">
  <nav class="navbar">
    <div class="navbar-inner">
      <div class="brand">👨‍🍳 Dishcovery</div>
      <ul class="nav-links">
        <li><a href="home.html">Home</a></li>
        <li><a href="recipe.html">Recipe Generator</a></li>
        <li><a href="planner.html">Meal Planner</a></li>
        <li><a href="news.html">Food News</a></li>
        <li><a href="feedback.html">Feedback</a></li>
      </ul>
    </div>
  </nav>

  <section class="section reveal">
    <div class="card" style="padding:2rem;">
      <h1>📅 Weekly Meal Planner</h1>
      <p style="color:var(--muted)">Plan your meals for the week and save them locally.</p>
      <div id="planner" class="grid"></div>
      <div style="text-align:center; margin-top:1rem;">
        <button class="btn" onclick="savePlan()">💾 Save Plan</button>
        <button class="btn" onclick="clearPlan()" style="background: radial-gradient(120% 120% at 30% 30%, #a5b4fc 0%, #7c3aed 35%, #00f5ff 100%); color:#06101a;">🗑️ Clear Week</button>
      </div>
    </div>
  </section>

  <script>
    /* Paste the global high-tech JS here (same as in home.html) */

    const days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];
    const meals = ["Breakfast","Lunch","Dinner"];
    const plannerDiv = document.getElementById('planner');

    // Build planner grid
    days.forEach(day=>{
      const card = document.createElement('div');
      card.className = 'card reveal';
      card.style.padding = '1rem';
      card.innerHTML = `<h2 style="margin-top:0">${day}</h2>`;
      meals.forEach(meal=>{
        const mealDiv = document.createElement('div');
        mealDiv.style.margin = '0.5rem 0';
        mealDiv.innerHTML = `
          <label style="font-weight:bold">${meal}</label>
          <input type="text" id="${day}-${meal}" placeholder="Add recipe...">
        `;
        card.appendChild(mealDiv);
      });
      plannerDiv.appendChild(card);
    });

    // Load saved plan
    window.onload = () => {
      const saved = JSON.parse(localStorage.getItem('mealPlan')||'{}');
      for (const key in saved) {
        const input = document.getElementById(key);
        if (input) input.value = saved[key];
      }
    };

    function savePlan(){
      const plan = {};
      days.forEach(day=>{
        meals.forEach(meal=>{
          const id = `${day}-${meal}`;
          plan[id] = document.getElementById(id).value;
        });
      });
      localStorage.setItem('mealPlan',JSON.stringify(plan));
      alert("✅ Meal plan saved!");
    }

    function clearPlan(){
      if(confirm("Clear the whole week?")){
        localStorage.removeItem('mealPlan');
        document.querySelectorAll('#planner input').forEach(i=>i.value="");
      }
    }
  </script>
</body>
</html>
